1219. 新红黑树   
 Total:  605 Accepted: 294 Rating: 4.7/5.0(3 votes) 012345 
  
      

   
 Time Limit: 1sec    Memory Limit:32MB Description
A君和B君在玩一种叫做新红黑树的游戏，即在一棵由红枝和黑枝构成的树上轮流砍树枝，每次砍一枝，A君每次只能砍红枝，B君每次只能砍黑枝，当其中某人已经没有树枝砍的时候，由另外一人砍，直到砍完全部树枝。树枝是带权的，每个人的总分是他砍的树枝的权值之和，那些由于其他树枝被砍掉而与根失去联系的树枝会自动消失。每次由A君先砍，设“D=A君的得分－B君的得分”，A君想让D最大，而B君想让D最小，A君和B君都是极其聪明的人，他们始终以最优策略进行整个游戏，你知道最后的D值是多少吗？ 

Input
输入文件只有一组数据。第一行为一个整数N（1≤N≤20），表示树枝总数，以下N行每行有四个数a,b,c,w，分别为树枝的两个端点，颜色及权值，端点编号为0,1,...,N，0号节点为根结点，c=1表示红色，c=-1表示黑色，1<=w<=1000。 

Output
输出文件包含一个整数，为所求的D值。 

Sample Input
 Copy sample input to clipboard 
3
0 1 1 100
1 2 -1 50
2 3 1 51

Sample Output
101 
